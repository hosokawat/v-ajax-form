var VAjaxForm=function(){"use strict";function t(t,e,n,r,o,i,a,s,c,u){const d="function"==typeof n?n.options:n;return t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),n}const e=t({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("form",t._b({attrs:{action:t.action,method:t.method},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},"form",t.$attrs,!1),[t._t("default")],2)},staticRenderFns:[]},0,{name:"VAjaxForm",inheritAttrs:!1,props:{action:{type:String,required:!0},method:{type:String,default:"GET",validator:t=>["GET","POST","PUT","DELETE","PATCH"].includes(t.toUpperCase())},uriEncode:{type:Boolean,default:!1}},emits:["start","receive","fail","done"],methods:{request:function(t){const e=this;e.$emit("start",t);const n=e.method.toUpperCase();let r=e.action;const o={method:n};if("GET"===n){const e=new URLSearchParams(t).toString();e&&(r+=(r.indexOf("?")>=0?"&":"?")+e)}else"POST"===n?(o.headers={"Content-Type":"application/x-www-form-urlencoded"},o.body=new URLSearchParams(t)):(o.headers={"Content-Type":"application/json"},o.body=JSON.stringify(t));fetch(r,o).then((function(t){if(!t.ok)throw new Error("HTTP error! status: "+t.status);return t.text().then((function(t){try{return JSON.parse(t)}catch(e){return t}})).then((function(n){e.$emit("receive",{data:n,status:t.status,statusText:t.statusText})}))})).catch((function(t){e.$emit("fail",t)})).finally((function(){e.$emit("done",t)}))},submit:function(){let t={},e=this;e.$el.querySelectorAll("input,select,textarea").forEach((function(n){if(void 0===n.attributes.disabled&&void 0!==n.attributes.name){if(("radio"===n.type||"checkbox"===n.type)&&!n.checked)return;let r=n.value,o=n.attributes.name.value;e.uriEncode&&(r=encodeURIComponent(r),o=encodeURIComponent(o)),void 0===t[o]?t[o]=r:t[o]instanceof Array?t[o].push(r):t[o]=[t[o],r]}})),e.request(t)}}}),n={install(t){t.component("v-ajax-form",e)}};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(n),n}();
//# sourceMappingURL=v-ajax-form.min.js.map
