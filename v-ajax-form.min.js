var VAjaxForm=function(t){"use strict";const e={name:"VAjaxForm",inheritAttrs:!1,props:{action:{type:String,required:!0},method:{type:String,default:"GET",validator:t=>["GET","POST","PUT","DELETE","PATCH"].includes(t.toUpperCase())},uriEncode:{type:Boolean,default:!1}},emits:["start","receive","fail","done"],methods:{request:function(t){const e=this;e.$emit("start",t);const n=e.method.toUpperCase();let o=e.action;const r={method:n};if("GET"===n){const e=new URLSearchParams(t).toString();e&&(o+=(o.indexOf("?")>=0?"&":"?")+e)}else"POST"===n?(r.headers={"Content-Type":"application/x-www-form-urlencoded"},r.body=new URLSearchParams(t)):(r.headers={"Content-Type":"application/json"},r.body=JSON.stringify(t));fetch(o,r).then((function(t){if(!t.ok)throw new Error("HTTP error! status: "+t.status);return t.text().then((function(t){try{return JSON.parse(t)}catch(e){return t}})).then((function(n){e.$emit("receive",{data:n,status:t.status,statusText:t.statusText})}))})).catch((function(t){e.$emit("fail",t)})).finally((function(){e.$emit("done",t)}))},submit:function(){let t={},e=this;e.$el.querySelectorAll("input,select,textarea").forEach((function(n){if(void 0===n.attributes.disabled&&void 0!==n.attributes.name){if(("radio"===n.type||"checkbox"===n.type)&&!n.checked)return;let o=n.value,r=n.attributes.name.value;e.uriEncode&&(o=encodeURIComponent(o),r=encodeURIComponent(r)),void 0===t[r]?t[r]=o:t[r]instanceof Array?t[r].push(o):t[r]=[t[r],o]}})),e.request(t)}}},n=["action","method"];var o=((t,e)=>{const n=t.__vccOpts||t;for(const[t,o]of e)n[t]=o;return n})(e,[["render",function(e,o,r,i,a,s){return t.openBlock(),t.createElementBlock("form",t.mergeProps(e.$attrs,{action:r.action,method:r.method,onSubmit:o[0]||(o[0]=t.withModifiers(((...t)=>s.submit&&s.submit(...t)),["prevent"]))}),[t.renderSlot(e.$slots,"default")],16,n)}]]);const r={install(t){t.component("v-ajax-form",o)}};return"undefined"!=typeof window&&window.Vue&&window.Vue.createApp({}).use(r),r}(Vue);
//# sourceMappingURL=v-ajax-form.min.js.map
